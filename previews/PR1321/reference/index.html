<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · BinaryBuilder.jl</title><meta name="title" content="Reference · BinaryBuilder.jl"/><meta property="og:title" content="Reference · BinaryBuilder.jl"/><meta property="twitter:title" content="Reference · BinaryBuilder.jl"/><meta name="description" content="Documentation for BinaryBuilder.jl."/><meta property="og:description" content="Documentation for BinaryBuilder.jl."/><meta property="twitter:description" content="Documentation for BinaryBuilder.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">BinaryBuilder.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../building/">Building Packages</a></li><li><a class="tocitem" href="../build_tips/">Build Tips</a></li><li><a class="tocitem" href="../jll/">JLL packages</a></li><li><a class="tocitem" href="../FAQ/">FAQ</a></li><li><a class="tocitem" href="../troubleshooting/">Build Troubleshooting</a></li><li><span class="tocitem">Internals</span><ul><li><a class="tocitem" href="../rootfs/">RootFS</a></li><li><a class="tocitem" href="../environment_variables/">Environment Variables</a></li><li><a class="tocitem" href="../tricksy_gotchas/">Tricksy Gotchas</a></li><li class="is-active"><a class="tocitem" href>Reference</a><ul class="internal"><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li><a class="tocitem" href="#Command-Line"><span>Command Line</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Internals</a></li><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaPackaging/BinaryBuilder.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/master/docs/src/reference.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-reference"><a class="docs-heading-anchor" href="#API-reference">API reference</a><a id="API-reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-reference" title="Permalink"></a></h1><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.AbstractDependency" href="#BinaryBuilderBase.AbstractDependency"><code>BinaryBuilderBase.AbstractDependency</code></a> — <span class="docstring-category">Type</span></header><section><div><p>An <code>AbstractDependency</code> is a binary dependency of the JLL package.  Dependencies are installed to <code>${prefix}</code> in the build environment.</p><p>Concrete subtypes of <code>AbstractDependency</code> are</p><ul><li><a href="#BinaryBuilderBase.Dependency"><code>Dependency</code></a>: a JLL package that is necessary for to build the package and to load the generated JLL package.</li><li><a href="#BinaryBuilderBase.RuntimeDependency"><code>RuntimeDependency</code></a>: a JLL package that is necessary only at runtime.  Its artifact will not be installed in the prefix during the build.</li><li><a href="#BinaryBuilderBase.BuildDependency"><code>BuildDependency</code></a>: a JLL package that is necessary only to build the package.  This will not be a dependency of the generated JLL package.</li><li><a href="#BinaryBuilderBase.HostBuildDependency"><code>HostBuildDependency</code></a>: similar to <code>BuildDependency</code>, but it will install the artifact for the host platform, instead of that for the target platform.</li></ul><p>Subtypes of <code>AbstractDependency</code> should define the following traits:</p><ul><li><a href="#BinaryBuilderBase.is_host_dependency"><code>is_host_dependency</code></a></li><li><a href="#BinaryBuilderBase.is_target_dependency-Tuple{AbstractDependency}"><code>is_target_dependency</code></a></li><li><a href="#BinaryBuilderBase.is_build_dependency"><code>is_build_dependency</code></a></li><li><a href="#BinaryBuilderBase.is_runtime_dependency"><code>is_runtime_dependency</code></a></li><li>[<code>is_top_level_dependency</code>][@ref]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Dependencies.jl#L13-L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.AbstractSource" href="#BinaryBuilderBase.AbstractSource"><code>BinaryBuilderBase.AbstractSource</code></a> — <span class="docstring-category">Type</span></header><section><div><p>An <code>AbstractSource</code> is something used as source to build the package.  Sources are installed to <code>${WORKSPACE}/srcdir</code> in the build environment.</p><p>Concrete subtypes of <code>AbstractSource</code> are:</p><ul><li><a href="#BinaryBuilderBase.ArchiveSource"><code>ArchiveSource</code></a>: a remote archive to download from the Internet;</li><li><a href="#BinaryBuilderBase.FileSource"><code>FileSource</code></a>: a remote file to download from the Internet;</li><li><a href="#BinaryBuilderBase.GitSource"><code>GitSource</code></a>: a remote Git repository to clone;</li><li><a href="#BinaryBuilderBase.DirectorySource"><code>DirectorySource</code></a>: a local directory to mount.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Sources.jl#L7-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.AnyPlatform" href="#BinaryBuilderBase.AnyPlatform"><code>BinaryBuilderBase.AnyPlatform</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AnyPlatform()</code></pre><p>A special platform to be used to build platform-independent tarballs, like those containing only header files.  <a href="../jll/#FileProduct"><code>FileProduct</code></a> is the only product type allowed with this platform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Platforms.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.ArchiveSource" href="#BinaryBuilderBase.ArchiveSource"><code>BinaryBuilderBase.ArchiveSource</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ArchiveSource(url::String, hash::String; unpack_target::String = &quot;&quot;)</code></pre><p>Specify a remote archive in one of the supported archive formats (e.g., TAR or ZIP balls) to be downloaded from the Internet from <code>url</code>.  <code>hash</code> is the 64-character SHA256 checksum of the file.</p><p>In the builder environment, the archive will be automatically unpacked to <code>${WORKSPACE}/srcdir</code>, or in its subdirectory pointed to by the optional keyword <code>unpack_target</code>, if provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Sources.jl#L41-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.BuildDependency" href="#BinaryBuilderBase.BuildDependency"><code>BinaryBuilderBase.BuildDependency</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BuildDependency(dep::Union{PackageSpec,String}; platforms)</code></pre><p>Define a binary dependency that is necessary only to build the package.  The <code>dep</code> argument can be either a string with the name of the JLL package or a <code>Pkg.PackageSpec</code>.</p><p>The optional keyword argument <code>platforms</code> is a vector of <code>AbstractPlatform</code>s which indicates for which platforms the dependency should be used.  By default <code>platforms=[AnyPlatform()]</code>, to mean that the dependency is compatible with all platforms.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Dependencies.jl#L201-L212">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.Dependency" href="#BinaryBuilderBase.Dependency"><code>BinaryBuilderBase.Dependency</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Dependency(dep::Union{PackageSpec,String}, build_version::VersionNumber;
           compat::String, platforms::Vector{&lt;:AbstractPlatform})</code></pre><p>Define a binary dependency that is necessary to build the package and load the generated JLL package.  The argument can be either a string with the name of the JLL package or a <code>Pkg.PackageSpec</code>.</p><p>The optional positional argument <code>build_version</code> can be used to specify the version of the dependency to be installed when building it.  If not specified, the latest version of the package compatible with the environment will be automatically chosen by the package resolver, unless <code>compat</code> is specified, see below.</p><p>The optional keyword argument <code>compat</code> can be used to specify a string for use in the <code>Project.toml</code> of the generated Julia package.  If <code>compat</code> is non-empty and <code>build_version</code> is not passed, the latter defaults to the minimum version compatible with the <code>compat</code> specifier.</p><p>The optional keyword argument <code>platforms</code> is a vector of <code>AbstractPlatform</code>s which indicates for which platforms the dependency should be used.  By default <code>platforms=[AnyPlatform()]</code>, to mean that the dependency is compatible with all platforms.</p><p>The optional keyword argument <code>top_level</code> denotates that this dependency is platform independent. It implies that the <code>platforms</code> keyword argument is set to <code>[AnyPlatform()]</code>. The primary use-case is for packages that hold information about the platform selection using <code>Preferences</code>. Platform selection is cached and in the case that no platform is available we need to be able to invalidate said cache. Invalidation occurs through the package that owns the <code>Preferences</code> data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Dependencies.jl#L74-L105">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.DirectorySource" href="#BinaryBuilderBase.DirectorySource"><code>BinaryBuilderBase.DirectorySource</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DirectorySource(path::String; target::String = basename(path), follow_symlinks=false)</code></pre><p>Specify a local directory to mount from <code>path</code>.</p><p>The content of the directory will be mounted in <code>${WORKSPACE}/srcdir</code>, or in its subdirectory pointed to by the optional keyword <code>target</code>, if provided. Symbolic links are replaced by a copy of the target when <code>follow_symlinks</code> is <code>true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Sources.jl#L109-L118">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.DockerRunner" href="#BinaryBuilderBase.DockerRunner"><code>BinaryBuilderBase.DockerRunner</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DockerRunner</code></pre><p>Use <code>docker</code> as an execution engine; a reasonable backup for platforms that do not have user namespaces (e.g. MacOS, Windows).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/DockerRunner.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.ExecutableProduct" href="#BinaryBuilderBase.ExecutableProduct"><code>BinaryBuilderBase.ExecutableProduct</code></a> — <span class="docstring-category">Type</span></header><section><div><p>An <code>ExecutableProduct</code> is a <a href="#BinaryBuilderBase.Product"><code>Product</code></a> that represents an executable file.</p><p>On all platforms, an ExecutableProduct checks for existence of the file.  On non-Windows platforms, it will check for the executable bit being set.  On Windows platforms, it will check that the file ends with &quot;.exe&quot;, (adding it on automatically, if it is not already present).</p><hr/><pre><code class="nohighlight hljs">ExecutableProduct(binname, varname::Symbol, dir_path=&quot;bin&quot;)</code></pre><p>Declares an <code>ExecutableProduct</code> that points to an executable located within the prefix.  <code>binname</code> specifies the basename of the executable, <code>varname</code> is the name of the variable in the JLL package that can be used to call into the library.  By default, the library is searched in the <code>bindir</code>, but you can specify a different directory within the prefix with the <code>dir_path</code> argument.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Products.jl#L331-L348">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.FileProduct" href="#BinaryBuilderBase.FileProduct"><code>BinaryBuilderBase.FileProduct</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FileProduct(path::AbstractString, varname::Symbol, dir_path = nothing)</code></pre><p>Declares a <a href="../jll/#FileProduct"><code>FileProduct</code></a> that points to a file located relative to the root of a <code>Prefix</code>, must simply exist to be satisfied.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Products.jl#L442-L447">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.FileSource" href="#BinaryBuilderBase.FileSource"><code>BinaryBuilderBase.FileSource</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FileSource(url::String, hash::String; filename::String = basename(url))</code></pre><p>Specify a remote file to be downloaded from the Internet from <code>url</code>.  <code>hash</code> is the 64-character SHA256 checksum of the file.</p><p>In the builder environment, the file will be saved under <code>${WORKSPACE}/srcdir</code> with the same name as the basename of the originating URL, unless the the keyword argument <code>filename</code> is specified.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Sources.jl#L70-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.FrameworkProduct" href="#BinaryBuilderBase.FrameworkProduct"><code>BinaryBuilderBase.FrameworkProduct</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A <code>FrameworkProduct</code> is a  <a href="#BinaryBuilderBase.Product"><code>Product</code></a> that encapsulates a macOS Framework. It behaves mostly as a <a href="../jll/#LibraryProduct"><code>LibraryProduct</code></a> for now, but is a distinct type. This implies that for cross-platform builds where a library is provided as a Framework on macOS and as a normal library on other platforms, two calls to BinaryBuilder&#39;s <code>build_tarballs</code> are needed: one with the <code>LibraryProduct</code> and all non-macOS platforms, and one with the <code>FrameworkProduct</code> and the <code>MacOS</code> platforms.</p><hr/><pre><code class="nohighlight hljs">FrameworkProduct(fwnames, varname::Symbol)</code></pre><p>Declares a macOS <code>FrameworkProduct</code> that points to a framework located within the prefix, with a name containing <code>fwname</code> appended with <code>.framework</code>.  As an example, given that <code>fwname</code> is equal to <code>QtCore</code>, this would be satisfied by the following path:</p><pre><code class="nohighlight hljs">lib/QtCore.framework</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Products.jl#L257-L275">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.GitSource" href="#BinaryBuilderBase.GitSource"><code>BinaryBuilderBase.GitSource</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">GitSource(url::String, hash::String; unpack_target::String = &quot;&quot;)</code></pre><p>Specify a remote Git repository to clone form <code>url</code>.  <code>hash</code> is the 40-character SHA1 revision to checkout after cloning.</p><p>The repository will be cloned in <code>${WORKSPACE}/srcdir</code>, or in its subdirectory pointed to by the optional keyword <code>unpack_target</code>, if provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Sources.jl#L92-L100">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.HostBuildDependency" href="#BinaryBuilderBase.HostBuildDependency"><code>BinaryBuilderBase.HostBuildDependency</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HostBuildDependency(dep::Union{PackageSpec,String}; platforms)</code></pre><p>Define a binary dependency that is necessary only to build the package. Different from the <a href="#BinaryBuilderBase.BuildDependency"><code>BuildDependency</code></a>, the artifact for the host platform will be installed, instead of that for the target platform.</p><p>The <code>dep</code> argument can be either a string with the name of the JLL package or a <code>Pkg.PackageSpec</code>.</p><p>The optional keyword argument <code>platforms</code> is a vector of <code>AbstractPlatform</code>s which indicates for which platforms the dependency should be used.  By default <code>platforms=[AnyPlatform()]</code>, to mean that the dependency is compatible with all platforms.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Dependencies.jl#L225-L239">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.LibraryProduct" href="#BinaryBuilderBase.LibraryProduct"><code>BinaryBuilderBase.LibraryProduct</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A <code>LibraryProduct</code> is a special kind of <a href="#BinaryBuilderBase.Product"><code>Product</code></a> that not only needs to exist, but needs to be <code>dlopen()</code>&#39;able.  You must know which directory the library will be installed to, and its name, e.g. to build a <code>LibraryProduct</code> that refers to <code>&quot;/lib/libnettle.so&quot;</code>, the &quot;directory&quot; would be &quot;/lib&quot;, and the &quot;libname&quot; would be &quot;libnettle&quot;.  Note that a <code>LibraryProduct</code> can support multiple libnames, as some software projects change the libname based on the build configuration.</p><hr/><pre><code class="nohighlight hljs">LibraryProduct(libname, varname::Symbol, dir_paths=String[];
               dont_dlopen=false, dlopen_flags=Symbol[])</code></pre><p>Declares a <code>LibraryProduct</code> that points to a library located within the prefix. <code>libname</code> specifies the basename of the library, <code>varname</code> is the name of the variable in the JLL package that can be used to call into the library.  By default, the library is searched in the <code>libdir</code>, but you can add other directories within the prefix to the <code>dir_paths</code> argument.  You can specify the flags to pass to <code>dlopen</code> as a vector of <code>Symbols</code> with the <code>dlopen_flags</code> keyword argument.  If the library should not be dlopen&#39;ed automatically by the JLL package, set <code>dont_dlopen=true</code>.</p><p>For example, if the <code>libname</code> is <code>libnettle</code>, this would be satisfied by the following paths:</p><ul><li><code>lib/libnettle.so</code> or <code>lib/libnettle.so.6</code> on Linux and FreeBSD;</li><li><code>lib/libnettle.6.dylib</code> on macOS;</li><li><code>lib/libnettle-6.dll</code> on Windows.</li></ul><p>Libraries matching the search pattern are rejected if they are not <code>dlopen()</code>&#39;able.</p><p>If you are unsure what value to use for <code>libname</code>, you can use <code>Base.BinaryPlatforms.parse_dl_name_version</code>:</p><pre><code class="nohighlight hljs">julia&gt; using Base.BinaryPlatforms

julia&gt; parse_dl_name_version(&quot;sfml-audio-2.dll&quot;, &quot;windows&quot;)[1]
&quot;sfml-audio&quot;</code></pre><p>If the library would have different basenames on different operating systems (e.g., <code>libz.so</code> on Linux and FreeBSD, <code>libz.dylib</code> on macOS, and <code>zlib.dll</code> on Windows), <code>libname</code> can be also a vector of <code>String</code>s with the different alternatives:</p><pre><code class="nohighlight hljs">LibraryProduct([&quot;libz&quot;, &quot;zlib&quot;], :libz)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Products.jl#L68-L118">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.Product" href="#BinaryBuilderBase.Product"><code>BinaryBuilderBase.Product</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A <code>Product</code> is an expected result after building or installation of a package.</p><p>Examples of <code>Product</code>s include <a href="../jll/#LibraryProduct"><code>LibraryProduct</code></a>, <a href="#BinaryBuilderBase.FrameworkProduct"><code>FrameworkProduct</code></a>, <a href="../jll/#ExecutableProduct"><code>ExecutableProduct</code></a> and <a href="../jll/#FileProduct"><code>FileProduct</code></a>. All <code>Product</code> types must define the following minimum set of functionality:</p><ul><li><p><a href="#BinaryBuilderBase.locate-Tuple{ExecutableProduct, Prefix}"><code>locate(::Product)</code></a>: given a <code>Product</code>, locate it within the wrapped <code>Prefix</code> returning its location as a string</p></li><li><p><a href="#BinaryBuilderBase.satisfied-Tuple{Product, Prefix}"><code>satisfied(::Product)</code></a>: given a <code>Product</code>, determine whether it has been successfully satisfied (e.g. it is locateable and it passes all callbacks)</p></li><li><p><a href="#BinaryBuilderBase.variable_name-Tuple{Product}"><code>variable_name(::Product)</code></a>: return the variable name assigned to a <code>Product</code></p></li><li><p><code>repr(::Product)</code>: Return a representation of this <code>Product</code>, useful for auto-generating source code that constructs <code>Products</code>, if that&#39;s your thing.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Products.jl#L5-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.RuntimeDependency" href="#BinaryBuilderBase.RuntimeDependency"><code>BinaryBuilderBase.RuntimeDependency</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RuntimeDependency(dep::Union{PackageSpec,String}; compat::String, platforms::Vector{&lt;:AbstractPlatform}, top_level::Bool=false)</code></pre><p>Define a binary dependency that is only listed as dependency of the generated JLL package, but its artifact is not installed in the prefix during the build.  The <code>dep</code> argument can be either a string with the name of the JLL package or a <code>Pkg.PackageSpec</code>.</p><p>The optional keyword argument <code>compat</code> can be used to specify a string for use in the <code>Project.toml</code> of the generated Julia package.</p><p>The optional keyword argument <code>platforms</code> is a vector of <code>AbstractPlatform</code>s which indicates for which platforms the dependency should be used.  By default <code>platforms=[AnyPlatform()]</code>, to mean that the dependency is compatible with all platforms.</p><p>The optional keyword argument <code>top_level</code> specifies whether the dependency should be use only at the top-level of the generated JLL package, instead of inside each platform-specific wrapper.  Using <code>top_level=true</code> is useful for packages needed for platform augmentation (e.g. <code>MPIPreferences.jl</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Dependencies.jl#L150-L168">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.UserNSRunner" href="#BinaryBuilderBase.UserNSRunner"><code>BinaryBuilderBase.UserNSRunner</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">UserNSRunner</code></pre><p>A <code>UserNSRunner</code> represents an &quot;execution context&quot;, an object that bundles all necessary information to run commands within the container that contains our crossbuild environment.  Use <code>run()</code> to actually run commands within the <code>UserNSRunner</code>, and <a href="#BinaryBuilderBase.runshell"><code>runshell()</code></a> as a quick way to get an interactive shell within the crossbuild environment.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/UserNSRunner.jl#L3-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.WizardState" href="#BinaryBuilder.Wizard.WizardState"><code>BinaryBuilder.Wizard.WizardState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">WizardState</code></pre><p>Building large dependencies can take a lot of time. This state object captures all relevant state of this function. It can be passed back to the function to resume where we left off. This can aid debugging when code changes are necessary.  It also holds all necessary metadata such as input/output streams.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/state.jl#L16-L23">source</a></section></article><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.abi_agnostic-Tuple{Platform}" href="#BinaryBuilderBase.abi_agnostic-Tuple{Platform}"><code>BinaryBuilderBase.abi_agnostic</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">abi_agnostic(p::AbstractPlatform)</code></pre><p>Strip out any tags that are not the basic annotations like <code>libc</code> and <code>call_abi</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Platforms.jl#L22-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.accept_apple_sdk-Tuple{IO, IO}" href="#BinaryBuilderBase.accept_apple_sdk-Tuple{IO, IO}"><code>BinaryBuilderBase.accept_apple_sdk</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">accept_apple_sdk(ins::IO, outs::IO) -&gt; Bool</code></pre><p>Ask the user whether they accept the terms of the macOS SDK, and return a boolean with their choice.  Write messages to <code>outs</code>, read input from <code>ins</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L193-L198">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.artifact_name-Tuple{CompilerShard}" href="#BinaryBuilderBase.artifact_name-Tuple{CompilerShard}"><code>BinaryBuilderBase.artifact_name</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">artifact_name(cs::CompilerShard)</code></pre><p>Return the bound artifact name for a particular shard.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L62-L66">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.bindir-Tuple{Prefix}" href="#BinaryBuilderBase.bindir-Tuple{Prefix}"><code>BinaryBuilderBase.bindir</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">bindir(prefix::Prefix)</code></pre><p>Returns the binary directory for the given <code>prefix</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Prefix.jl#L74-L78">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.choose_shards-Tuple{AbstractPlatform}" href="#BinaryBuilderBase.choose_shards-Tuple{AbstractPlatform}"><code>BinaryBuilderBase.choose_shards</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">choose_shards(p::AbstractPlatform; rootfs_build, ps_build, GCC_builds,
                           LLVM_builds, archive_type)</code></pre><p>This method chooses, given a <code>Platform</code>, which shards to download, extract and mount, returning a list of <code>CompilerShard</code> objects.  At the moment, this always consists of four shards, but that may not always be the case.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L551-L558">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.chown_cleanup-Tuple{DockerRunner}" href="#BinaryBuilderBase.chown_cleanup-Tuple{DockerRunner}"><code>BinaryBuilderBase.chown_cleanup</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">chown_cleanup(dr::DockerRunner)</code></pre><p>On Linux, the user id inside of the docker container doesn&#39;t correspond to ours on the outside, so permissions get all kinds of screwed up.  To fix this, we have to <code>chown -R $(id -u):$(id -g) $prefix</code>, which really sucks, but is still better than nothing.  This is why we prefer the UserNSRunner on Linux.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/DockerRunner.jl#L120-L127">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.collect_jll_uuids-Tuple{Pkg.Types.Manifest, Set{Base.UUID}}" href="#BinaryBuilderBase.collect_jll_uuids-Tuple{Pkg.Types.Manifest, Set{Base.UUID}}"><code>BinaryBuilderBase.collect_jll_uuids</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">collect_jll_uuids(manifest::Pkg.Types.Manifest, dependencies::Set{Base.UUID})</code></pre><p>Return a <code>Set</code> of all JLL packages in the <code>manifest</code> with <code>dependencies</code> being the list of direct dependencies of the environment.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Prefix.jl#L442-L447">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.compress_dir-Tuple{AbstractString}" href="#BinaryBuilderBase.compress_dir-Tuple{AbstractString}"><code>BinaryBuilderBase.compress_dir</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">compress_dir(dir::AbstractString;
             compressor_stream = GzipCompressorStream,
             level::Int = 9,
             extension::AbstractString = &quot;.gz&quot;,
             verbose::Bool = false)</code></pre><p>Compress all files in <code>dir</code> using the specified <code>compressor_stream</code> with compression level equal to <code>level</code>, appending <code>extension</code> to the filenames. Remove the original uncompressed files at the end.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Prefix.jl#L790-L800">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.download_all_artifacts-Tuple{}" href="#BinaryBuilderBase.download_all_artifacts-Tuple{}"><code>BinaryBuilderBase.download_all_artifacts</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">download_all_artifacts(; verbose::Bool=false)</code></pre><p>Helper function to download all shards/helper binaries so that no matter what happens, you don&#39;t need an internet connection to build your precious, precious binaries.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L1023-L1029">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.download_source" href="#BinaryBuilderBase.download_source"><code>BinaryBuilderBase.download_source</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">download_source(source::AbstractSource; verbose::Bool = false)</code></pre><p>Download the given <code>source</code>.  All downloads are cached within the BinaryBuilder <code>downloads</code> storage directory.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Sources.jl#L261-L266">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.enable_apple_file-Tuple{}" href="#BinaryBuilderBase.enable_apple_file-Tuple{}"><code>BinaryBuilderBase.enable_apple_file</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">enable_apple_file()</code></pre><p>Return the path to file that, if exists, indicates that the user accepts to download macOS SDK.  The file is automatically created when the package is loaded if the environment variable <code>BINARYBUILDER_AUTOMATIC_APPLE</code> is set to <code>&quot;true&quot;</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/BinaryBuilderBase.jl#L56-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.expand_cxxstring_abis-Tuple{AbstractPlatform}" href="#BinaryBuilderBase.expand_cxxstring_abis-Tuple{AbstractPlatform}"><code>BinaryBuilderBase.expand_cxxstring_abis</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">expand_cxxstring_abis(p::AbstractPlatform; skip=Sys.isbsd)</code></pre><p>Given a <code>Platform</code>, returns an array of <code>Platforms</code> with a spread of identical entries with the exception of the <code>cxxstring_abi</code> tag within the <code>Platform</code> object.  This is used to take, for example, a list of supported platforms and expand them to include multiple GCC versions for the purposes of ABI matching.</p><p>If the given <code>Platform</code> already specifies a <code>cxxstring_abi</code> (as opposed to <code>nothing</code>) only that <code>Platform</code> is returned.  If <code>skip</code> is a function for which <code>skip(platform)</code> evaluates to <code>true</code>, the given platform is not expanded.  By default FreeBSD and macOS platforms are skipped, due to their lack of a dependence on <code>libstdc++</code> and not needing this compatibility shim.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L783-L796">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.expand_gfortran_versions-Tuple{AbstractPlatform}" href="#BinaryBuilderBase.expand_gfortran_versions-Tuple{AbstractPlatform}"><code>BinaryBuilderBase.expand_gfortran_versions</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">expand_gfortran_versions(p::AbstractPlatform)</code></pre><p>Given a <code>Platform</code>, returns an array of <code>Platforms</code> with a spread of identical entries with the exception of the <code>libgfortran_version</code> tag within the <code>Platform</code>.  This is used to take, for example, a list of supported platforms and expand them to include multiple GCC versions for the purposes of ABI matching.  If the given <code>Platform</code> already specifies a <code>libgfortran_version</code> (as opposed to <code>nothing</code>) only that <code>Platform</code> is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L743-L752">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.expand_microarchitectures" href="#BinaryBuilderBase.expand_microarchitectures"><code>BinaryBuilderBase.expand_microarchitectures</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">expand_microarchitectures(p::AbstractPlatform, [microarchitectures::Vector{String}])</code></pre><p>Given a <code>Platform</code>, returns a vector of <code>Platforms</code> with differing <code>march</code> attributes as specified by the <code>ARCHITECTURE_FLAGS</code> mapping.  If the given <code>Platform</code> alread has a <code>march</code> tag specified, only that platform is returned.  If the <code>microarchitectures</code> argument is given, limit the expansion to the given microarchitectures.</p><pre><code class="language-julia-repl hljs">julia&gt; using BinaryBuilderBase

julia&gt; expand_microarchitectures(Platform(&quot;x86_64&quot;, &quot;freebsd&quot;))
4-element Vector{Platform}:
 FreeBSD x86_64 {march=x86_64}
 FreeBSD x86_64 {march=avx}
 FreeBSD x86_64 {march=avx2}
 FreeBSD x86_64 {march=avx512}

julia&gt; expand_microarchitectures(Platform(&quot;armv7l&quot;, &quot;linux&quot;))
2-element Vector{Platform}:
 Linux armv7l {call_abi=eabihf, libc=glibc, march=armv7l}
 Linux armv7l {call_abi=eabihf, libc=glibc, march=neonvfpv4}

julia&gt; expand_microarchitectures(Platform(&quot;aarch64&quot;, &quot;linux&quot;), [&quot;armv8_0&quot;, &quot;a64fx&quot;])
2-element Vector{Platform}:
 Linux aarch64 {libc=glibc, march=armv8_0}
 Linux aarch64 {libc=glibc, march=a64fx}

julia&gt; expand_microarchitectures(Platform(&quot;i686&quot;, &quot;windows&quot;))
2-element Vector{Platform}:
 Windows i686 {march=pentium4}
 Windows i686 {march=prescott}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L820-L853">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.expand_microarchitectures" href="#BinaryBuilderBase.expand_microarchitectures"><code>BinaryBuilderBase.expand_microarchitectures</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">expand_microarchitectures(ps::Vector{&lt;:Platform}, [microarchitectures::Vector{String}];
                          filter=Returns(true))</code></pre><p>Expand all platforms in the vector <code>ps</code> with the supported microarchitectures.</p><p>If the <code>microarchitectures</code> argument is given, limit the expansion to the given platforms.  This is useful if you do not want to expand to all available microarchitectures.</p><p>The expansion is applied only to the platforms matching the <code>filter</code> predicate, by default all platforms.  This is useful if you want to limit the expansion to some platforms, without having to explicitly list its microarchitectures in the second argument.</p><pre><code class="language-julia-repl hljs">julia&gt; using BinaryBuilderBase

julia&gt; expand_microarchitectures(filter!(p -&gt; Sys.islinux(p) &amp;&amp; libc(p) == &quot;glibc&quot;, supported_platforms()))
14-element Vector{Platform}:
 Linux i686 {libc=glibc, march=pentium4}
 Linux i686 {libc=glibc, march=prescott}
 Linux x86_64 {libc=glibc, march=x86_64}
 Linux x86_64 {libc=glibc, march=avx}
 Linux x86_64 {libc=glibc, march=avx2}
 Linux x86_64 {libc=glibc, march=avx512}
 Linux aarch64 {libc=glibc, march=armv8_0}
 Linux aarch64 {libc=glibc, march=armv8_1}
 Linux aarch64 {libc=glibc, march=armv8_2_crypto}
 Linux aarch64 {libc=glibc, march=a64fx}
 Linux armv6l {call_abi=eabihf, libc=glibc, march=arm1176jzfs}
 Linux armv7l {call_abi=eabihf, libc=glibc, march=armv7l}
 Linux armv7l {call_abi=eabihf, libc=glibc, march=neonvfpv4}
 Linux powerpc64le {libc=glibc, march=power8}

julia&gt; expand_microarchitectures(filter!(p -&gt; Sys.islinux(p) &amp;&amp; libc(p) == &quot;glibc&quot;, supported_platforms()), [&quot;x86_64&quot;, &quot;avx2&quot;])
7-element Vector{Platform}:
 Linux i686 {libc=glibc}
 Linux x86_64 {libc=glibc, march=x86_64}
 Linux x86_64 {libc=glibc, march=avx2}
 Linux aarch64 {libc=glibc}
 Linux armv6l {call_abi=eabihf, libc=glibc}
 Linux armv7l {call_abi=eabihf, libc=glibc}
 Linux powerpc64le {libc=glibc}

julia&gt; expand_microarchitectures(filter!(p -&gt; Sys.islinux(p) &amp;&amp; libc(p) == &quot;glibc&quot;, supported_platforms()); filter=p-&gt;arch(p)==&quot;x86_64&quot;)
9-element Vector{Platform}:
 Linux i686 {libc=glibc}
 Linux x86_64 {libc=glibc, march=x86_64}
 Linux x86_64 {libc=glibc, march=avx}
 Linux x86_64 {libc=glibc, march=avx2}
 Linux x86_64 {libc=glibc, march=avx512}
 Linux aarch64 {libc=glibc}
 Linux armv6l {call_abi=eabihf, libc=glibc}
 Linux armv7l {call_abi=eabihf, libc=glibc}
 Linux powerpc64le {libc=glibc}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L889-L946">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.filter_platforms-Tuple{AbstractVector{&lt;:AbstractDependency}, AbstractPlatform}" href="#BinaryBuilderBase.filter_platforms-Tuple{AbstractVector{&lt;:AbstractDependency}, AbstractPlatform}"><code>BinaryBuilderBase.filter_platforms</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">filter_platforms(deps::AbstractVector{&lt;:AbstractDependency}, p::AbstractPlatform)</code></pre><p>Filter the dependencies <code>deps</code> which are compatible with platform <code>p</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Dependencies.jl#L266-L270">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.gcc_version" href="#BinaryBuilderBase.gcc_version"><code>BinaryBuilderBase.gcc_version</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">gcc_version(p::AbstractPlatform, GCC_builds::Vector{GCCBuild},
            compilers::Vector{Symbol}=[:c];
            llvm_version::Union{Nothing,VersionNumber}=nothing)</code></pre><p>Returns the closest matching GCC version number for the given particular platform, from the given set of options.  The compiler ABI and the microarchitecture of the platform will be taken into account.  If no match is found, returns an empty list.  <code>compilers</code> is the list of compilers used in the build, to choose the right version of GCC to couple with them if necessary.  If the keyword argument <code>llvm_version</code> is passed, it is used to filter the version of GCC for FreeBSD platforms.</p><p>This method assumes that the compiler ABI of the platform represents a platform that binaries will be run on, and thus versions are always rounded down; e.g. if the platform supports a <code>libstdc++</code> version that corresponds to <code>GCC 5.1.0</code>, but the only GCC versions available to be picked from are <code>4.8.5</code> and <code>5.2.0</code>, it will return <code>4.8.5</code>, as binaries compiled with that version will run on this platform, whereas binaries compiled with <code>5.2.0</code> may not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L414-L433">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.generate_compiler_wrappers!-Tuple{AbstractPlatform}" href="#BinaryBuilderBase.generate_compiler_wrappers!-Tuple{AbstractPlatform}"><code>BinaryBuilderBase.generate_compiler_wrappers!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_compiler_wrappers!(platform::AbstractPlatform; bin_path::AbstractString,
                            host_platform::AbstractPlatform = Platform(&quot;x86_64&quot;, &quot;linux&quot;; libc = &quot;musl&quot;, cxxstring_abi = &quot;cxx11&quot;),
                            compilers::Vector{Symbol} = [:c],
                            allow_unsafe_flags::Bool = false,
                            lock_microarchitecture::Bool = true,
                            gcc_version::Union{Nothing,VersionNumber}=nothing,
                            clang_version::Union{Nothing,VersionNumber}=nothing,
                            clang_use_lld::Bool = false,
                            )</code></pre><p>We generate a set of compiler wrapper scripts within our build environment to force all build systems to honor the necessary sets of compiler flags to build for our systems. Note that while <code>platform_envs()</code> sets many environment variables, those values are intended to be optional/overridable.  These values, while still overridable by directly invoking a compiler binary directly (e.g. /opt/{target}/bin/{target}-gcc), are much more difficult to override, as the flags embedded in these wrappers are absolutely necessary, and even simple programs will not compile without them.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Runner.jl#L153-L171">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.generate_per_uid_squashfs" href="#BinaryBuilderBase.generate_per_uid_squashfs"><code>BinaryBuilderBase.generate_per_uid_squashfs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">generate_per_uid_squashfs(cs, new_uid = getuid())</code></pre><p>In order for the sandbox to work well, we need to have the uids of the squashfs images match the uid of the current unprivileged user.  Unfortunately there is no mount-time option to do this for us.  Fortunately, squashfs is simple enough that if the ID table is uncompressed, we can just manually patch the uids to be what we need.  This function performs this operation, by rewriting all UIDs and GIDs to the given <code>new_uid</code> (which defaults to the current user&#39;s UID).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/squashfs_utils.jl#L31-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.get_addable_spec-Tuple{AbstractString, VersionNumber}" href="#BinaryBuilderBase.get_addable_spec-Tuple{AbstractString, VersionNumber}"><code>BinaryBuilderBase.get_addable_spec</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_addable_spec(name::AbstractString, version::VersionNumber)</code></pre><p>Given a JLL name and registered version, return a <code>PackageSpec</code> that, when passed as a <code>Dependency</code>, ensures that exactly that version will be installed.  Example usage:</p><pre><code class="nohighlight hljs">dependencies = [
    BuildDependency(get_addable_spec(&quot;LLVM_jll&quot;, v&quot;9.0.1+0&quot;)),
]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Prefix.jl#L516-L525">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.get_commit_sha-Tuple{String, Base.SHA1}" href="#BinaryBuilderBase.get_commit_sha-Tuple{String, Base.SHA1}"><code>BinaryBuilderBase.get_commit_sha</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_commit_sha(url::String, tree_hash::Base.SHA1; verbose::Bool=false)</code></pre><p>Find the latest git commit corresponding to the given git tree SHA1 for the remote repository with the given <code>url</code>.  The repository is cached locally for quicker future access.  If <code>verbose</code> is <code>true</code>, print to screen some debugging information.</p><p>The return value is the commit SHA as a <code>String</code>, if the corresponding revision is found, <code>nothing</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Prefix.jl#L478-L487">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.get_concrete_platform-Tuple{AbstractPlatform}" href="#BinaryBuilderBase.get_concrete_platform-Tuple{AbstractPlatform}"><code>BinaryBuilderBase.get_concrete_platform</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_concrete_platform(platform::AbstractPlatform;
                      preferred_gcc_version = nothing,
                      preferred_llvm_version = nothing,
                      compilers = nothing)</code></pre><p>Return the concrete platform for the given <code>platform</code> based on the GCC compiler ABI.  The set of shards is chosen by the keyword arguments (see <a href="#BinaryBuilderBase.choose_shards-Tuple{AbstractPlatform}"><code>choose_shards</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/utils.jl#L46-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.get_concrete_platform-Tuple{Platform, Vector{CompilerShard}}" href="#BinaryBuilderBase.get_concrete_platform-Tuple{Platform, Vector{CompilerShard}}"><code>BinaryBuilderBase.get_concrete_platform</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_concrete_platform(platform::Platform, shards::Vector{CompilerShard})</code></pre><p>Return the concrete platform for the given <code>platform</code> based on the GCC compiler ABI in the <code>shards</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/utils.jl#L17-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.get_tree_hash-Tuple{LibGit2.GitTree}" href="#BinaryBuilderBase.get_tree_hash-Tuple{LibGit2.GitTree}"><code>BinaryBuilderBase.get_tree_hash</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_tree_hash(tree::LibGit2.GitTree)</code></pre><p>Given a <code>GitTree</code>, get the <code>GitHash</code> that identifies it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Prefix.jl#L466-L470">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.getgid-Tuple{}" href="#BinaryBuilderBase.getgid-Tuple{}"><code>BinaryBuilderBase.getgid</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getgid()</code></pre><p>Wrapper around libc&#39;s <code>getgid()</code> function</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/squashfs_utils.jl#L12-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.getuid-Tuple{}" href="#BinaryBuilderBase.getuid-Tuple{}"><code>BinaryBuilderBase.getuid</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getuid()</code></pre><p>Wrapper around libc&#39;s <code>getuid()</code> function</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/squashfs_utils.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.import_docker_image-Tuple{CompilerShard, String}" href="#BinaryBuilderBase.import_docker_image-Tuple{CompilerShard, String}"><code>BinaryBuilderBase.import_docker_image</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">import_docker_image(rootfs::CompilerShard; verbose::Bool = false)</code></pre><p>Checks to see if the given rootfs has been imported into docker yet; if it hasn&#39;t, then do so so that we can run things like:</p><pre><code class="nohighlight hljs">docker run -ti binarybuilder_rootfs:v2018.08.27 /bin/bash</code></pre><p>Which, after all, is the foundation upon which this whole doodad is built.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/DockerRunner.jl#L30-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.includedir-Tuple{Prefix}" href="#BinaryBuilderBase.includedir-Tuple{Prefix}"><code>BinaryBuilderBase.includedir</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">includedir(prefix::Prefix)</code></pre><p>Returns the include directory for the given <code>prefix</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Prefix.jl#L101-L105">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.installed_shards-Tuple{}" href="#BinaryBuilderBase.installed_shards-Tuple{}"><code>BinaryBuilderBase.installed_shards</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">installed_shards()</code></pre><p>Return a vector of compiler shards currently downloaded on the local system</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L1097-L1100">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.is_build_dependency" href="#BinaryBuilderBase.is_build_dependency"><code>BinaryBuilderBase.is_build_dependency</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_build_dependency(dep::AbstractDependency) -&gt; Bool</code></pre><p>Return whether <code>dep</code> is a build-time dependency or not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Dependencies.jl#L53-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.is_ecryptfs-Tuple{AbstractString}" href="#BinaryBuilderBase.is_ecryptfs-Tuple{AbstractString}"><code>BinaryBuilderBase.is_ecryptfs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_ecryptfs(path::AbstractString; verbose::Bool=false)</code></pre><p>Checks to see if the given <code>path</code> (or any parent directory) is placed upon an <code>ecryptfs</code> mount.  This is known not to work on current kernels, see this bug for more details: https://bugzilla.kernel.org/show_bug.cgi?id=197603</p><p>This method returns whether it is encrypted or not, and what mountpoint it used to make that decision.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/UserNSRunner.jl#L382-L391">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.is_host_dependency" href="#BinaryBuilderBase.is_host_dependency"><code>BinaryBuilderBase.is_host_dependency</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_host_dependency(dep::AbstractDependency) -&gt; Bool</code></pre><p>Return whether <code>dep</code> is a dependency of the host platform or not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Dependencies.jl#L39-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.is_mounted-Tuple{CompilerShard, AbstractString}" href="#BinaryBuilderBase.is_mounted-Tuple{CompilerShard, AbstractString}"><code>BinaryBuilderBase.is_mounted</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_mounted(cs::CompilerShard, build_prefix::String)</code></pre><p>Return true if the given shard is mounted.  Uses <code>run()</code> so will error out if something goes awry.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L294-L299">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.is_runtime_dependency" href="#BinaryBuilderBase.is_runtime_dependency"><code>BinaryBuilderBase.is_runtime_dependency</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_runtime_dependency(dep::AbstractDependency) -&gt; Bool</code></pre><p>Return whether <code>dep</code> is a runtime dependency or not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Dependencies.jl#L60-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.is_target_dependency-Tuple{AbstractDependency}" href="#BinaryBuilderBase.is_target_dependency-Tuple{AbstractDependency}"><code>BinaryBuilderBase.is_target_dependency</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_target_dependency(dep::AbstractDependency) -&gt; Bool</code></pre><p>Return whether <code>dep</code> is a dependency of the target platform or not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Dependencies.jl#L46-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.is_top_level_dependency-Tuple{AbstractDependency}" href="#BinaryBuilderBase.is_top_level_dependency-Tuple{AbstractDependency}"><code>BinaryBuilderBase.is_top_level_dependency</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_top_level_dependency(dep::AbstractDependency) -&gt; Bool</code></pre><p>Return wheter <code>dep</code> is a top-level dependency or not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Dependencies.jl#L67-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.libabi_agnostic-Tuple{Platform}" href="#BinaryBuilderBase.libabi_agnostic-Tuple{Platform}"><code>BinaryBuilderBase.libabi_agnostic</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">abi_agnostic(p::AbstractPlatform)</code></pre><p>Like <code>abi_agnostic</code>, but keep the sanitizer ABI tags.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Platforms.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.libdirs" href="#BinaryBuilderBase.libdirs"><code>BinaryBuilderBase.libdirs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">libdirs(prefix::Prefix, platform = HostPlatform())</code></pre><p>Returns the library directories for the given <code>prefix</code> (note that this differs between unix systems and windows systems, and between 32- and 64-bit systems).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Prefix.jl#L83-L88">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.locate-Tuple{ExecutableProduct, Prefix}" href="#BinaryBuilderBase.locate-Tuple{ExecutableProduct, Prefix}"><code>BinaryBuilderBase.locate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">locate(ep::ExecutableProduct, prefix::Prefix;
       platform::AbstractPlatform = HostPlatform(),
       verbose::Bool = false,
       isolate::Bool = false)</code></pre><p>If the given executable file exists and is executable, return its path.</p><p>On all platforms, an <a href="../jll/#ExecutableProduct"><code>ExecutableProduct</code></a> checks for existence of the file.  On non-Windows platforms, it will check for the executable bit being set. On Windows platforms, it will check that the file ends with &quot;.exe&quot;, (adding it on automatically, if it is not already present).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Products.jl#L387-L399">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.locate-Tuple{FileProduct, Prefix}" href="#BinaryBuilderBase.locate-Tuple{FileProduct, Prefix}"><code>BinaryBuilderBase.locate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">locate(fp::FileProduct, prefix::Prefix;
       platform::AbstractPlatform = HostPlatform(),
       verbose::Bool = false,
       isolate::Bool = false)</code></pre><p>If the given file exists, return its path.  The <code>platform</code> and <code>isolate</code> arguments are is ignored here, but included for uniformity.  For ease of use, we support a limited number of custom variable expansions such as <code>${target}</code>, and <code>${nbits}</code>, so that the detection of files within target-specific folders named things like <code>/lib32/i686-linux-musl</code> is simpler.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Products.jl#L465-L476">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.locate-Tuple{LibraryProduct, Prefix}" href="#BinaryBuilderBase.locate-Tuple{LibraryProduct, Prefix}"><code>BinaryBuilderBase.locate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">locate(lp::LibraryProduct, prefix::Prefix;
       verbose::Bool = false,
       platform::AbstractPlatform = HostPlatform())</code></pre><p>If the given library exists (under any reasonable name) and is <code>dlopen()</code>able, (assuming it was built for the current platform) return its location.  Note that the <code>dlopen()</code> test is only run if the current platform matches the given <code>platform</code> keyword argument, as cross-compiled libraries cannot be <code>dlopen()</code>ed on foreign platforms.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Products.jl#L178-L188">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.logdir-Tuple{Prefix}" href="#BinaryBuilderBase.logdir-Tuple{Prefix}"><code>BinaryBuilderBase.logdir</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">logdir(prefix::Prefix; subdir::AbstractString=&quot;&quot;)</code></pre><p>Returns the logs directory for the given <code>prefix</code>.  If <code>subdir</code> is a non-empty string, that directory it is appended to the logdir of the given <code>prefix</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Prefix.jl#L110-L115">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.macos_sdk_already_installed-Tuple{}" href="#BinaryBuilderBase.macos_sdk_already_installed-Tuple{}"><code>BinaryBuilderBase.macos_sdk_already_installed</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">macos_sdk_already_installed()</code></pre><p>Returns <code>true</code> if any piece of the MacOS SDK is already installed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L340-L344">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.manage_shards-Tuple{}" href="#BinaryBuilderBase.manage_shards-Tuple{}"><code>BinaryBuilderBase.manage_shards</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">manage_shards(; sort_by=:name, rev=false)</code></pre><p>Open a prompt allowing a user to selectively remove downloaded compiler shards. By default, the shards are sorted by name, alternatively you can sort them by file size on disk by specifying <code>sort_by=:size</code>. With <code>rev=true</code> you can reverse the sort order.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L1107-L1114">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.map_target-Tuple{CompilerShard}" href="#BinaryBuilderBase.map_target-Tuple{CompilerShard}"><code>BinaryBuilderBase.map_target</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">map_target(cs::CompilerShard)</code></pre><p>Return the location this compiler shard should be mounted at.  We basically analyze the name and platform of this shard and return a path based on that.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L162-L167">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.mount-Tuple{CompilerShard, AbstractString}" href="#BinaryBuilderBase.mount-Tuple{CompilerShard, AbstractString}"><code>BinaryBuilderBase.mount</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mount(cs::CompilerShard, build_prefix::String)</code></pre><p>Mount a compiler shard, if possible.  Uses <code>run()</code> so will error out if something goes awry.  Note that this function only does something when using a <code>.squashfs</code> shard, with a UserNS or Docker runner, on Linux. All other combinations of shard archive type, runner and platform result in a no-op from this function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L222-L230">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.package-Tuple{Prefix, AbstractString, VersionNumber}" href="#BinaryBuilderBase.package-Tuple{Prefix, AbstractString, VersionNumber}"><code>BinaryBuilderBase.package</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">package(prefix::Prefix, output_base::AbstractString,
        version::VersionNumber;
        platform::AbstractPlatform = HostPlatform(),
        verbose::Bool = false, force::Bool = false,
        filter = Returns(true))</code></pre><p>Build a tarball of the <code>prefix</code>, storing the tarball at <code>output_base</code>, appending the version number <code>version</code>, a platform-dependent suffix and a file extension.  If <code>platform</code> is not given, defaults to current platform. Returns the full path to, the SHA256 hash and the git tree SHA1 of the generated tarball.</p><p>The are additional keyword arguments:</p><ul><li><code>verbose</code> controls whether to print information to screen,</li><li><code>force</code> makes the function overwrite an existing tarball with the same name</li><li><code>filter</code> is a 2-argument function which returns <code>true</code> if the given file or directory should be packaged, and <code>false</code> otherwise.  The arguments are <code>(prefix, path)</code>, where <code>prefix</code> is the directory where the prefix is stored, and <code>path</code> is the path, within the prefix, of the file or directory.  This keyword allows you to filter out from the tarball certain files or directories.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Prefix.jl#L120-L141">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.platform_envs-Tuple{AbstractPlatform, AbstractString}" href="#BinaryBuilderBase.platform_envs-Tuple{AbstractPlatform, AbstractString}"><code>BinaryBuilderBase.platform_envs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">platform_envs(platform::AbstractPlatform, src_name::AbstractString;
              host_platform = default_host_platform,
              bootstrap::Bool=!isempty(bootstrap_list),
              compilers::Vector{Symbol}=[:c],
              rust_version::Union{Nothing,VersionNumber}=nothing,
              verbose::Bool = false,
              )</code></pre><p>Given a <code>platform</code> and a <code>src_name</code>, generate a <code>Dict</code> mapping representing all the environment variables to be set within the build environment to force compiles toward the defined target architecture.  Examples of things set are <code>PATH</code>, <code>CC</code>, <code>RANLIB</code>, as well as nonstandard things like <code>target</code>.</p><p>Accepted keyword arguments are:</p><ul><li><code>host_platform</code>: the platform of the host system,</li><li><code>bootstraop</code>: if <code>true</code>, only basic environment variables will be generated,</li><li><code>compilers</code>: list of compilers, some environment variables will be generated only if the relevant compilers are used (e.g., for Go and Rust),</li><li><code>rust_version</code>: version of the Rust toolchain, needed to set the environment variable <code>RUSTUP_TOOLCHAIN</code>,</li><li><code>verbose</code>: holds the value of the <code>V</code> and <code>VERBOSE</code> environment variables.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Runner.jl#L1024-L1047">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.platform_exeext-Tuple{AbstractPlatform}" href="#BinaryBuilderBase.platform_exeext-Tuple{AbstractPlatform}"><code>BinaryBuilderBase.platform_exeext</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">platform_exeext(p::AbstractPlatform)</code></pre><p>Get the executable extension for the given Platform.  Includes the leading <code>.</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Platforms.jl#L54-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.preferred_cxxstring_abi-Tuple{AbstractPlatform, CompilerShard}" href="#BinaryBuilderBase.preferred_cxxstring_abi-Tuple{AbstractPlatform, CompilerShard}"><code>BinaryBuilderBase.preferred_cxxstring_abi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">preferred_cxxstring_abi(platform::AbstractPlatform, shard::CompilerShard;
                        gcc_builds::Vector{GCCBuild} = available_gcc_builds)</code></pre><p>Return the C++ string ABI preferred by the given platform or GCCBootstrap shard.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L993-L998">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.preferred_libgfortran_version-Tuple{AbstractPlatform, CompilerShard}" href="#BinaryBuilderBase.preferred_libgfortran_version-Tuple{AbstractPlatform, CompilerShard}"><code>BinaryBuilderBase.preferred_libgfortran_version</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">preferred_libgfortran_version(platform::AbstractPlatform, shard::CompilerShard;
                              gcc_builds::Vector{GCCBuild} = available_gcc_builds)</code></pre><p>Return the libgfortran version preferred by the given platform or GCCBootstrap shard.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L963-L968">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.runshell" href="#BinaryBuilderBase.runshell"><code>BinaryBuilderBase.runshell</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">runshell(platform::AbstractPlatform = HostPlatform())</code></pre><p>Launch an interactive shell session within the user namespace, with environment setup to target the given <code>platform</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Runner.jl#L1304-L1309">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.satisfied-Tuple{Product, Prefix}" href="#BinaryBuilderBase.satisfied-Tuple{Product, Prefix}"><code>BinaryBuilderBase.satisfied</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">satisfied(p::Product;
          platform::AbstractPlatform = HostPlatform(),
          verbose::Bool = false,
          isolate::Bool = false)</code></pre><p>Given a <a href="#BinaryBuilderBase.Product"><code>Product</code></a>, return <code>true</code> if that <code>Product</code> is satisfied, e.g. whether a file exists that matches all criteria setup for that <code>Product</code>. If <code>isolate</code> is set to <code>true</code>, will isolate all checks from the main Julia process in the event that <code>dlopen()</code>&#39;ing a library might cause issues.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Products.jl#L42-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.setup_workspace" href="#BinaryBuilderBase.setup_workspace"><code>BinaryBuilderBase.setup_workspace</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">setup_workspace(build_path::String, sources::Vector{SetupSource};
                verbose::Bool = false)</code></pre><p>Sets up a workspace within <code>build_path</code>, creating the directory structure needed by further steps, unpacking the source within <code>build_path</code>, and defining the environment variables that will be defined within the sandbox environment.</p><p>This method returns the <code>Prefix</code> to install things into, and the runner that can be used to launch commands within this workspace.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Prefix.jl#L394-L404">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.shard_mappings-Tuple{Vector{CompilerShard}}" href="#BinaryBuilderBase.shard_mappings-Tuple{Vector{CompilerShard}}"><code>BinaryBuilderBase.shard_mappings</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shard_mappings(shards::Vector{CompilerShard})</code></pre><p>Return the default mappings for a set of compiler shards</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L1062-L1066">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.shard_path-Tuple{CompilerShard}" href="#BinaryBuilderBase.shard_path-Tuple{CompilerShard}"><code>BinaryBuilderBase.shard_path</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shard_path(cs::CompilerShard)</code></pre><p>Return the path to this shard on-disk; for unpacked shards, this is a directory. For squashfs shards, this is a file.  This will not cause a shard to be downloaded.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L142-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.supported_platforms-Tuple{}" href="#BinaryBuilderBase.supported_platforms-Tuple{}"><code>BinaryBuilderBase.supported_platforms</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">supported_platforms(;exclude::Union{Vector{&lt;:Platform},Function}=Returns(false),
                    experimental::Bool=false)</code></pre><p>Return the list of supported platforms as an array of <code>Platform</code>s.  These are the platforms we officially support building for, if you see a mapping in <code>get_shard_hash()</code> that isn&#39;t represented here, it&#39;s probably because that platform is still considered &quot;in beta&quot;.  If <code>experimental=true</code>, include platforms considered experimental.</p><p>Platforms can be excluded from the list by specifying an array of platforms to <code>exclude</code> i.e. <code>supported_platforms(exclude=[Platform(&quot;i686&quot;, &quot;windows&quot;), Platform(&quot;x86_64&quot;, &quot;windows&quot;)])</code> or a function that returns true for exclusions i.e.</p><pre><code class="nohighlight hljs">supported_platforms(exclude=Sys.islinux)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L689-L704">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.temp_prefix-Tuple{Function}" href="#BinaryBuilderBase.temp_prefix-Tuple{Function}"><code>BinaryBuilderBase.temp_prefix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">temp_prefix(func::Function)</code></pre><p>Create a temporary prefix, passing the prefix into the user-defined function so that build/packaging operations can occur within the temporary prefix, which is then cleaned up after all operations are finished.  If the path provided exists already, it will be deleted.</p><p>Usage example:</p><pre><code class="nohighlight hljs">out_path = abspath(&quot;./libfoo&quot;)
temp_prefix() do p
    # &lt;insert build steps here&gt;

    # tarball up the built package
    tarball_path, tarball_hash = package(p, out_path)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Prefix.jl#L11-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.uname-Tuple{}" href="#BinaryBuilderBase.uname-Tuple{}"><code>BinaryBuilderBase.uname</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">uname()</code></pre><p>On Linux systems, return the strings returned by the <code>uname()</code> function in libc</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/UserNSRunner.jl#L212-L216">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.unmount-Tuple{CompilerShard, String}" href="#BinaryBuilderBase.unmount-Tuple{CompilerShard, String}"><code>BinaryBuilderBase.unmount</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">unmount(cs::CompilerShard, build_prefix::String)</code></pre><p>Unmount a compiler shard from a given build prefix, if possible.  Uses <code>run()</code> so will error out if something goes awry.  Note that this function only does something when using a squashfs shard on Linux.  All other combinations of shard archive type and platform result in a no-op.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Rootfs.jl#L304-L311">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.variable_name-Tuple{Product}" href="#BinaryBuilderBase.variable_name-Tuple{Product}"><code>BinaryBuilderBase.variable_name</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">variable_name(p::Product)</code></pre><p>Return the variable name associated with this <a href="#BinaryBuilderBase.Product"><code>Product</code></a> as a string</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/Products.jl#L58-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilderBase.versioninfo-Tuple{}" href="#BinaryBuilderBase.versioninfo-Tuple{}"><code>BinaryBuilderBase.versioninfo</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">versioninfo()</code></pre><p>Helper function to print out some debugging information</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/v1.29.0/src/BinaryBuilderBase.jl#L97-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.autobuild-Tuple{AbstractString, AbstractString, VersionNumber, Vector{&lt;:AbstractSource}, AbstractString, Vector, Vector{&lt;:Product}, Vector{&lt;:AbstractDependency}}" href="#BinaryBuilder.autobuild-Tuple{AbstractString, AbstractString, VersionNumber, Vector{&lt;:AbstractSource}, AbstractString, Vector, Vector{&lt;:Product}, Vector{&lt;:AbstractDependency}}"><code>BinaryBuilder.autobuild</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">autobuild(dir::AbstractString, src_name::AbstractString,
          src_version::VersionNumber, sources::Vector,
          script::AbstractString, platforms::Vector,
          products::Vector, dependencies::Vector;
          verbose = false, debug = false,
          skip_audit = false, ignore_audit_errors = true,
          autofix = true, code_dir = nothing,
          meta_json_file = nothing, require_license = true,
          dont_dlopen = false, kwargs...)</code></pre><p>Runs the boiler plate code to download, build, and package a source package for a list of platforms.  This method takes a veritable truckload of arguments, here are the relevant actors, broken down in brief:</p><ul><li><p><code>dir</code>: the root of the build; products will be placed within <code>dir</code>/products,  and mountpoints will be placed within <code>dir</code>/build/.</p></li><li><p><code>src_name</code>: the name of the source package being built and will set the name  of the built tarballs.</p></li><li><p><code>src_version</code>: the version of the source package.</p></li><li><p><code>platforms</code>: a list of platforms to build for.</p></li><li><p><code>sources</code>: a vector of all sources to download and unpack before building begins, as <a href="#BinaryBuilderBase.AbstractSource"><code>AbstractSource</code></a>s.</p></li><li><p><code>script</code>: a string representing a shell script to run as the build.</p></li><li><p><code>products</code>: the list of <code>Product</code>s which shall be built.</p></li><li><p><code>dependencies</code>: a vector of JLL dependency packages as <a href="#BinaryBuilderBase.AbstractDependency"><code>AbstractDependency</code></a> that should be installed before building begins.</p></li><li><p><code>verbose</code>: Enable verbose mode.  What did you expect?</p></li><li><p><code>debug</code>: cause a failed build to drop into an interactive shell so that  the build can be inspected easily.</p></li><li><p><code>skip_audit</code>: disable the typical audit that occurs at the end of a build.</p></li><li><p><code>ignore_audit_errors</code>: do not kill a build even if a problem is found.</p></li><li><p><code>autofix</code>: give <code>BinaryBuilder</code> permission to automatically fix issues it  finds during audit passes.  Highly recommended.</p></li><li><p><code>code_dir</code>: sets where autogenerated JLL packages will be put.</p></li><li><p><code>require_license</code> enables a special audit pass that requires licenses to be  installed by all packages.</p></li><li><p><code>dont_dlopen</code>: don&#39;t try to <code>dlopen</code> library products. This is separate from  specifying <code>dont_dlopen</code> on a <code>LibraryProduct</code> in that it still results in  the generated JLL loading the library at run time, and only prevents  BinaryBuilder from doing so during JLL generation.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/AutoBuild.jl#L708-L765">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.get_compilers_versions-Tuple{}" href="#BinaryBuilder.get_compilers_versions-Tuple{}"><code>BinaryBuilder.get_compilers_versions</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_compilers_versions(; compilers = [:c])</code></pre><p>Return the script string that is used to print the versions of the given <code>compilers</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/AutoBuild.jl#L445-L449">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.BinaryPlatforms.detect_cxxstring_abi-Tuple{ObjectFile.ObjectHandle, AbstractPlatform}" href="#Base.BinaryPlatforms.detect_cxxstring_abi-Tuple{ObjectFile.ObjectHandle, AbstractPlatform}"><code>Base.BinaryPlatforms.detect_cxxstring_abi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">detect_cxxstring_abi(oh::ObjectHandle, platform::AbstractPlatform)</code></pre><p>Given an ObjectFile, examine its symbols to discover which (if any) C++11 std::string ABI it&#39;s using.  We do this by scanning the list of exported symbols, triggering off of instances of <code>St7__cxx11</code> or <code>_ZNSs</code> to give evidence toward a constraint on <code>cxx11</code>, <code>cxx03</code> or neither.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/auditor/compiler_abi.jl#L186-L193">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.BinaryPlatforms.detect_libstdcxx_version-Tuple{ObjectFile.ObjectHandle, AbstractPlatform}" href="#Base.BinaryPlatforms.detect_libstdcxx_version-Tuple{ObjectFile.ObjectHandle, AbstractPlatform}"><code>Base.BinaryPlatforms.detect_libstdcxx_version</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">detect_libstdcxx_version(oh::ObjectHandle, platform::AbstractPlatform)</code></pre><p>Given an ObjectFile, examine its dynamic linkage to discover which (if any) <code>libgfortran</code> it&#39;s linked against.  The major SOVERSION will determine which GCC version we&#39;re restricted to.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/auditor/compiler_abi.jl#L106-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.analyze_instruction_set-Tuple{ObjectFile.ObjectHandle, AbstractPlatform}" href="#BinaryBuilder.Auditor.analyze_instruction_set-Tuple{ObjectFile.ObjectHandle, AbstractPlatform}"><code>BinaryBuilder.Auditor.analyze_instruction_set</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">analyze_instruction_set(oh::ObjectHandle, platform::AbstractPlatform; verbose::Bool = false)</code></pre><p>Analyze the instructions within the binary located at the given path for which minimum instruction set it requires, taking note of groups of instruction sets used such as <code>avx</code>, <code>sse4.2</code>, <code>i486</code>, etc....</p><p>Some binary files (such as libopenblas) contain multiple versions of functions, internally determining which version to call by using the <code>cpuid</code> instruction to determine processor support.  In an effort to detect this, we make note of any usage of the <code>cpuid</code> instruction, disabling our minimum instruction set calculations if such an instruction is found, and notifying the user of this if <code>verbose</code> is set to <code>true</code>.</p><p>Note that this function only really makes sense for x86/x64 binaries.  Don&#39;t run this on armv7l, aarch64, ppc64le etc... binaries and expect it to work.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/auditor/instruction_set.jl#L129-L145">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.audit" href="#BinaryBuilder.Auditor.audit"><code>BinaryBuilder.Auditor.audit</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">audit(prefix::Prefix, src_name::AbstractString = &quot;&quot;;
                      io=stderr,
                      platform::AbstractPlatform = HostPlatform(),
                      verbose::Bool = false,
                      silent::Bool = false,
                      autofix::Bool = false,
                      has_csl::Bool = true,
                      require_license::Bool = true,
      )</code></pre><p>Audits a prefix to attempt to find deployability issues with the binary objects that have been installed within.  This auditing will check for relocatability issues such as dependencies on libraries outside of the current <code>prefix</code>, usage of advanced instruction sets such as AVX2 that may not be usable on many platforms, linkage against newer glibc symbols, etc...</p><p>This method is still a work in progress, only some of the above list is actually implemented, be sure to actually inspect <code>Auditor.jl</code> to see what is and is not currently in the realm of fantasy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/Auditor.jl#L26-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.check_license" href="#BinaryBuilder.Auditor.check_license"><code>BinaryBuilder.Auditor.check_license</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">check_license(prefix, src_name; verbose::Bool = false,, silent::Bool = false)</code></pre><p>Check that there are license files for the project called <code>src_name</code> in the <code>prefix</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/Auditor.jl#L517-L521">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.collapse_symlinks-Tuple{Vector{String}}" href="#BinaryBuilder.Auditor.collapse_symlinks-Tuple{Vector{String}}"><code>BinaryBuilder.Auditor.collapse_symlinks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">collapse_symlinks(files::Vector{String})</code></pre><p>Given a list of files, prune those that are symlinks pointing to other files within the list.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/Auditor.jl#L490-L495">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.collect_files" href="#BinaryBuilder.Auditor.collect_files"><code>BinaryBuilder.Auditor.collect_files</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">collect_files(path::AbstractString, predicate::Function = f -&gt; true)</code></pre><p>Find all files that satisfy <code>predicate()</code> when the full path to that file is passed in, returning the list of file paths.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/Auditor.jl#L450-L455">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.compatible_marchs-Tuple{AbstractPlatform}" href="#BinaryBuilder.Auditor.compatible_marchs-Tuple{AbstractPlatform}"><code>BinaryBuilder.Auditor.compatible_marchs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">compatible_marchs(p::AbstractPlatform)</code></pre><p>Return a (sorted) list of compatible microarchitectures, starting from the most compatible to the most highly specialized.  If no microarchitecture is specified within <code>p</code>, returns the most generic microarchitecture possible for the given architecture.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/Auditor.jl#L282-L288">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.detect_libgfortran_version-Tuple{ObjectFile.ObjectHandle, AbstractPlatform}" href="#BinaryBuilder.Auditor.detect_libgfortran_version-Tuple{ObjectFile.ObjectHandle, AbstractPlatform}"><code>BinaryBuilder.Auditor.detect_libgfortran_version</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">detect_libgfortran_version(oh::ObjectHandle, platform::AbstractPlatform)</code></pre><p>Given an ObjectFile, examine its dynamic linkage to discover which (if any) <code>libgfortran</code> it&#39;s linked against.  The major SOVERSION will determine which GCC version we&#39;re restricted to.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/auditor/compiler_abi.jl#L11-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.instruction_mnemonics-Tuple{AbstractString, AbstractPlatform}" href="#BinaryBuilder.Auditor.instruction_mnemonics-Tuple{AbstractString, AbstractPlatform}"><code>BinaryBuilder.Auditor.instruction_mnemonics</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">instruction_mnemonics(path::AbstractString, platform::AbstractPlatform)</code></pre><p>Dump a binary object with <code>objdump</code>, returning a list of instruction mnemonics for further analysis with <code>analyze_instruction_set()</code>.</p><p>Note that this function only really makes sense for x86/x64 binaries.  Don&#39;t run this on armv7l, aarch64, ppc64le etc... binaries and expect it to work.</p><p>This function returns the list of mnemonics as well as the counts of each, binned by the mapping defined within <code>instruction_categories</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/auditor/instruction_set.jl#L13-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.is_for_platform-Tuple{ObjectFile.ObjectHandle, AbstractPlatform}" href="#BinaryBuilder.Auditor.is_for_platform-Tuple{ObjectFile.ObjectHandle, AbstractPlatform}"><code>BinaryBuilder.Auditor.is_for_platform</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_for_platform(h::ObjectHandle, platform::AbstractPlatform)</code></pre><p>Returns <code>true</code> if the given <code>ObjectHandle</code> refers to an object of the given <code>platform</code>; E.g. if the given <code>platform</code> is for AArch64 Linux, then <code>h</code> must be an <code>ELFHandle</code> with <code>h.header.e_machine</code> set to <code>ELF.EM_AARCH64</code>.</p><p>In particular, this method and <a href="#BinaryBuilder.Auditor.platform_for_object-Tuple{ObjectFile.ObjectHandle}"><code>platform_for_object()</code></a> both exist because the latter is not smart enough to deal with <code>:glibc</code> and <code>:musl</code> yet.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/auditor/dynamic_linkage.jl#L82-L91">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.is_troublesome_library_link-Tuple{AbstractString, AbstractPlatform}" href="#BinaryBuilder.Auditor.is_troublesome_library_link-Tuple{AbstractString, AbstractPlatform}"><code>BinaryBuilder.Auditor.is_troublesome_library_link</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_troublesome_library_link(libname::AbstractString, platform::AbstractPlatform)</code></pre><p>Return <code>true</code> if depending on <code>libname</code> is known to cause problems at runtime, <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/auditor/dynamic_linkage.jl#L495-L499">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.minimum_march-Tuple{Dict, AbstractPlatform}" href="#BinaryBuilder.Auditor.minimum_march-Tuple{Dict, AbstractPlatform}"><code>BinaryBuilder.Auditor.minimum_march</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">minimum_march(counts::Dict, p::AbstractPlatform)</code></pre><p>This function returns the minimum instruction set required, depending on whether the object file being pointed to is a 32-bit or 64-bit one:</p><ul><li><p>For 32-bit object files, this returns one of [&quot;i686&quot;, &quot;prescott&quot;]</p></li><li><p>For 64-bit object files, this returns one of [&quot;x86_64&quot;, &quot;avx&quot;, &quot;avx2&quot;, &quot;avx512&quot;]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/auditor/instruction_set.jl#L82-L91">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.platform_for_object-Tuple{ObjectFile.ObjectHandle}" href="#BinaryBuilder.Auditor.platform_for_object-Tuple{ObjectFile.ObjectHandle}"><code>BinaryBuilder.Auditor.platform_for_object</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">platform_for_object(oh::ObjectHandle)</code></pre><p>Returns the platform the given <code>ObjectHandle</code> should run on.  E.g. if the given <code>ObjectHandle</code> is an <code>x86_64</code> Linux ELF object, this function will return <code>Platform(&quot;x86_64&quot;, &quot;linux&quot;)</code>.  This function does not yet distinguish between different libc&#39;s such as <code>:glibc</code> and <code>:musl</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/auditor/dynamic_linkage.jl#L3-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.symlink_soname_lib-Tuple{AbstractString}" href="#BinaryBuilder.Auditor.symlink_soname_lib-Tuple{AbstractString}"><code>BinaryBuilder.Auditor.symlink_soname_lib</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">symlink_soname_lib(path::AbstractString)</code></pre><p>We require that all shared libraries are accessible on disk through their SONAME (if it exists).  While this is almost always true in practice, it doesn&#39;t hurt to make doubly sure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/auditor/soname_matching.jl#L101-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.translate_symlinks-Tuple{AbstractString}" href="#BinaryBuilder.Auditor.translate_symlinks-Tuple{AbstractString}"><code>BinaryBuilder.Auditor.translate_symlinks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">translate_symlinks(root::AbstractString; verbose::Bool=false)</code></pre><p>Walks through the root directory given within <code>root</code>, finding all symlinks that point to an absolute path within <code>root</code>, and rewriting them to be a relative symlink instead, increasing relocatability.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/auditor/symlink_translator.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.update_linkage-Tuple{Prefix, AbstractPlatform, AbstractString, Any, Any}" href="#BinaryBuilder.Auditor.update_linkage-Tuple{Prefix, AbstractPlatform, AbstractString, Any, Any}"><code>BinaryBuilder.Auditor.update_linkage</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">update_linkage(prefix::Prefix, platform::AbstractPlatform, path::AbstractString,
               old_libpath, new_libpath; verbose::Bool = false)</code></pre><p>Given a binary object located at <code>path</code> within <code>prefix</code>, update its dynamic linkage to point to <code>new_libpath</code> instead of <code>old_libpath</code>.  This is done using a tool within the cross-compilation environment such as <code>install_name_tool</code> on MacOS or <code>patchelf</code> on Linux.  Windows platforms are completely skipped, as they do not encode paths or RPaths within their executables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/auditor/dynamic_linkage.jl#L392-L401">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Auditor.warn_deadlinks-Tuple{AbstractString}" href="#BinaryBuilder.Auditor.warn_deadlinks-Tuple{AbstractString}"><code>BinaryBuilder.Auditor.warn_deadlinks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">warn_deadlinks(root::AbstractString)</code></pre><p>Walks through the given <code>root</code> directory, finding broken symlinks and warning the user about them.  This is used to catch instances such as a build recipe copying a symlink that points to a dependency; by doing so, it implicitly breaks relocatability.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/auditor/symlink_translator.jl#L22-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.canonicalize_file_url-Tuple{Any}" href="#BinaryBuilder.Wizard.canonicalize_file_url-Tuple{Any}"><code>BinaryBuilder.Wizard.canonicalize_file_url</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Canonicalize URL to a file within a GitHub repo</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/obtain_source.jl#L20-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.canonicalize_source_url-Tuple{Any}" href="#BinaryBuilder.Wizard.canonicalize_source_url-Tuple{Any}"><code>BinaryBuilder.Wizard.canonicalize_source_url</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Canonicalize a GitHub repository URL</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/obtain_source.jl#L4-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.change_script!-Tuple{Any, Any}" href="#BinaryBuilder.Wizard.change_script!-Tuple{Any, Any}"><code>BinaryBuilder.Wizard.change_script!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Change the script. This will invalidate all platforms to make sure we later
verify that they still build with the new script.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/utils.jl#L204-L207">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.download_source-Tuple{BinaryBuilder.Wizard.WizardState}" href="#BinaryBuilder.Wizard.download_source-Tuple{BinaryBuilder.Wizard.WizardState}"><code>BinaryBuilder.Wizard.download_source</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">download_source(state::WizardState)</code></pre><p>Ask the user where the source code is coming from, then download and record the relevant parameters, returning the source <code>url</code>, the local <code>path</code> it is stored at after download, and a <code>hash</code> identifying the version of the code. In the case of a <code>git</code> source URL, the <code>hash</code> will be a git treeish identifying the exact commit used to build the code, in the case of a tarball, it is the <code>sha256</code> hash of the tarball itself.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/obtain_source.jl#L37-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.edit_script-Tuple{BinaryBuilder.Wizard.WizardState, AbstractString}" href="#BinaryBuilder.Wizard.edit_script-Tuple{BinaryBuilder.Wizard.WizardState, AbstractString}"><code>BinaryBuilder.Wizard.edit_script</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">edit_script(state::WizardState, script::AbstractString)</code></pre><p>For consistency (and security), use the sandbox for editing a script, launching <code>vi</code> within an interactive session to edit a buildscript.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/utils.jl#L146-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.filter_object_files-Tuple{Any}" href="#BinaryBuilder.Wizard.filter_object_files-Tuple{Any}"><code>BinaryBuilder.Wizard.filter_object_files</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">filter_object_files(files)</code></pre><p>Given a list of files, filter out any that cannot be opened by <code>readmeta()</code> from <code>ObjectFile</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/utils.jl#L79-L84">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.interactive_build-Tuple{BinaryBuilder.Wizard.WizardState, Prefix, Runner, AbstractString, AbstractPlatform}" href="#BinaryBuilder.Wizard.interactive_build-Tuple{BinaryBuilder.Wizard.WizardState, Prefix, Runner, AbstractString, AbstractPlatform}"><code>BinaryBuilder.Wizard.interactive_build</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">interactive_build(state::WizardState, prefix::Prefix,
                  ur::Runner, build_path::AbstractString)

Runs the interactive shell for building, then captures bash history to save
reproducible steps for building this source. Shared between steps 3 and 5</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/interactive_build.jl#L302-L308">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.match_files-Tuple{BinaryBuilder.Wizard.WizardState, Prefix, AbstractPlatform, Vector}" href="#BinaryBuilder.Wizard.match_files-Tuple{BinaryBuilder.Wizard.WizardState, Prefix, AbstractPlatform, Vector}"><code>BinaryBuilder.Wizard.match_files</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">match_files(state::WizardState, prefix::Prefix,
            platform::AbstractPlatform, files::Vector; silent::Bool = false)</code></pre><p>Inspects all binary files within a prefix, matching them with a given list of <code>files</code>, complaining if there are any files that are not properly matched and returning the set of normalized names that were not matched, or an empty set if all names were properly matched.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/utils.jl#L108-L116">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.normalize_name-Tuple{AbstractString}" href="#BinaryBuilder.Wizard.normalize_name-Tuple{AbstractString}"><code>BinaryBuilder.Wizard.normalize_name</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">normalize_name(file::AbstractString)</code></pre><p>Given a filename, normalize it, stripping out extensions.  E.g. the file path <code>&quot;foo/libfoo.tar.gz&quot;</code> would get mapped to <code>&quot;libfoo&quot;</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/utils.jl#L59-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.pick_preferred_platform-Tuple{Any}" href="#BinaryBuilder.Wizard.pick_preferred_platform-Tuple{Any}"><code>BinaryBuilder.Wizard.pick_preferred_platform</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Pick the first platform for use to run on. We prefer Linux x86_64 because that&#39;s generally the host platform, so it&#39;s usually easiest. After that we go by the following preferences:</p><ul><li>OS (in order): Linux, Windows, OSX</li><li>Architecture: x86_64, i686, aarch64, powerpc64le, armv7l</li><li>The first remaining after this selection</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/interactive_build.jl#L465-L472">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.print_autoconf_hint-Tuple{BinaryBuilder.Wizard.WizardState}" href="#BinaryBuilder.Wizard.print_autoconf_hint-Tuple{BinaryBuilder.Wizard.WizardState}"><code>BinaryBuilder.Wizard.print_autoconf_hint</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">print_autoconf_hint(state::WizardState)</code></pre><p>Print a hint for projects that use autoconf to have a good <code>./configure</code> line.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/hints.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.provide_hints-Tuple{BinaryBuilder.Wizard.WizardState, AbstractString}" href="#BinaryBuilder.Wizard.provide_hints-Tuple{BinaryBuilder.Wizard.WizardState, AbstractString}"><code>BinaryBuilder.Wizard.provide_hints</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">provide_hints(state::WizardState, path::AbstractString)</code></pre><p>Given an unpacked source directory, provide hints on how a user might go about building the binary bounty they so richly desire.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/hints.jl#L17-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.step1-Tuple{BinaryBuilder.Wizard.WizardState}" href="#BinaryBuilder.Wizard.step1-Tuple{BinaryBuilder.Wizard.WizardState}"><code>BinaryBuilder.Wizard.step1</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">step1(state::WizardState)</code></pre><p>It all starts with a single step, the unabashed ambition to leave your current stability and engage with the universe on a quest to create something new, beautiful and unforeseen.  It all ends with compiler errors.</p><p>This step selects the relevant platform(s) for the built binaries.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/obtain_source.jl#L142-L150">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.step2-Tuple{BinaryBuilder.Wizard.WizardState}" href="#BinaryBuilder.Wizard.step2-Tuple{BinaryBuilder.Wizard.WizardState}"><code>BinaryBuilder.Wizard.step2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">step2(state::WizardState)</code></pre><p>This step obtains the source code to be built and required binary dependencies.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/obtain_source.jl#L373-L377">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.step34-Tuple{BinaryBuilder.Wizard.WizardState}" href="#BinaryBuilder.Wizard.step34-Tuple{BinaryBuilder.Wizard.WizardState}"><code>BinaryBuilder.Wizard.step34</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">step34(state::WizardState)</code></pre><p>Starts initial build for Linux x86_64, which is our initial test target platform.  Sources that build properly for this platform continue on to attempt builds for more complex platforms.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/interactive_build.jl#L492-L498">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.step3_audit-Tuple{BinaryBuilder.Wizard.WizardState, AbstractPlatform, String}" href="#BinaryBuilder.Wizard.step3_audit-Tuple{BinaryBuilder.Wizard.WizardState, AbstractPlatform, String}"><code>BinaryBuilder.Wizard.step3_audit</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">step3_audit(state::WizardState, platform::AbstractPlatform, prefix::Prefix)</code></pre><p>Audit the <code>prefix</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/interactive_build.jl#L157-L161">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.step3_interactive-Tuple{BinaryBuilder.Wizard.WizardState, Prefix, AbstractPlatform, Runner, AbstractString, Vector{String}}" href="#BinaryBuilder.Wizard.step3_interactive-Tuple{BinaryBuilder.Wizard.WizardState, Prefix, AbstractPlatform, Runner, AbstractString, Vector{String}}"><code>BinaryBuilder.Wizard.step3_interactive</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">step3_interactive(state::WizardState, prefix::Prefix, platform::AbstractPlatform,
                  ur::Runner, build_path::AbstractString)</code></pre><p>The interactive portion of step3, moving on to either rebuild with an edited script or proceed to step 4.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/interactive_build.jl#L403-L409">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.step3_retry-Tuple{BinaryBuilder.Wizard.WizardState}" href="#BinaryBuilder.Wizard.step3_retry-Tuple{BinaryBuilder.Wizard.WizardState}"><code>BinaryBuilder.Wizard.step3_retry</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">step3_retry(state::WizardState)</code></pre><p>Rebuilds the initial Linux x86_64 build after things like editing the script file manually, etc...</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/interactive_build.jl#L427-L432">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.step4-Tuple{BinaryBuilder.Wizard.WizardState, Runner, AbstractPlatform, AbstractString, Prefix}" href="#BinaryBuilder.Wizard.step4-Tuple{BinaryBuilder.Wizard.WizardState, Runner, AbstractPlatform, AbstractString, Prefix}"><code>BinaryBuilder.Wizard.step4</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">step4(state::WizardState, ur::Runner, platform::AbstractPlatform,
      build_path::AbstractString, prefix::Prefix)</code></pre><p>The fourth step selects build products after the first build is done</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/interactive_build.jl#L18-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.with_gitcreds-Tuple{Any, AbstractString, AbstractString}" href="#BinaryBuilder.Wizard.with_gitcreds-Tuple{Any, AbstractString, AbstractString}"><code>BinaryBuilder.Wizard.with_gitcreds</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">with_gitcreds(f, username::AbstractString, password::AbstractString)</code></pre><p>Calls <code>f</code> with an <code>LibGit2.UserPasswordCredential</code> object as an argument, constructed from the <code>username</code> and <code>password</code> values. <code>with_gitcreds</code> ensures that the credentials object gets properly shredded after it&#39;s no longer necessary. E.g.:</p><p><code>julia with_gitcreds(user, token) do creds     LibGit2.clone(&quot;https://github.com/foo/bar.git&quot;, &quot;bar&quot;; credentials=creds) end</code>`</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/utils.jl#L258-L270">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.yggdrasil_build_tarballs_path-Tuple{Any}" href="#BinaryBuilder.Wizard.yggdrasil_build_tarballs_path-Tuple{Any}"><code>BinaryBuilder.Wizard.yggdrasil_build_tarballs_path</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">yggdrasil_build_tarballs_path(name::String)</code></pre><p>Return the relative path within an Yggdrasil clone where this project (given its name) would be stored.  This is useful for things like generating the <code>build_tarballs.jl</code> file and checking to see if it already exists, etc...</p><p>Note that we do not allow case-ambiguities within Yggdrasil, we check for this using the utility function <code>case_insensitive_file_exists(path)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/yggdrasil.jl#L24-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.yggdrasil_deploy" href="#BinaryBuilder.Wizard.yggdrasil_deploy"><code>BinaryBuilder.Wizard.yggdrasil_deploy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">yggdrasil_deploy(state::WizardState)</code></pre><p>Write out a WizardState to a <code>build_tarballs.jl</code> in an <code>Yggdrasil</code> clone, then open a pull request against <code>Yggdrasil</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/deploy.jl#L126-L131">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.Wizard.yn_prompt" href="#BinaryBuilder.Wizard.yn_prompt"><code>BinaryBuilder.Wizard.yn_prompt</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">yn_prompt(state::WizardState, question::AbstractString, default = :y)</code></pre><p>Perform a <code>[Y/n]</code> or <code>[y/N]</code> question loop, using <code>default</code> to choose between the prompt styles, and looping until a proper response (e.g. <code>&quot;y&quot;</code>, <code>&quot;yes&quot;</code>, <code>&quot;n&quot;</code> or <code>&quot;no&quot;</code>) is received.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/wizard/utils.jl#L179-L185">source</a></section></article><h2 id="Command-Line"><a class="docs-heading-anchor" href="#Command-Line">Command Line</a><a id="Command-Line-1"></a><a class="docs-heading-anchor-permalink" href="#Command-Line" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BinaryBuilder.build_tarballs" href="#BinaryBuilder.build_tarballs"><code>BinaryBuilder.build_tarballs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">build_tarballs(ARGS, src_name, src_version, sources, script, platforms,
               products, dependencies; kwargs...)</code></pre><p>This should be the top-level function called from a <code>build_tarballs.jl</code> file. It takes in the information baked into a <code>build_tarballs.jl</code> file such as the <code>sources</code> to download, the <code>products</code> to build, etc... and will automatically download, build and package the tarballs, generating a <code>build.jl</code> file when appropriate.</p><p>Generally, <code>ARGS</code> should be the top-level Julia <code>ARGS</code> command-line arguments object.  <code>build_tarballs</code> does some rudimentary parsing of the arguments. To see what it can do, you can call it with <code>--help</code> in the <code>ARGS</code> or see the <a href="#Command-Line">Command Line</a> section in the manual.</p><p>The <code>kwargs</code> are passed on to <a href="#BinaryBuilder.autobuild-Tuple{AbstractString, AbstractString, VersionNumber, Vector{&lt;:AbstractSource}, AbstractString, Vector, Vector{&lt;:Product}, Vector{&lt;:AbstractDependency}}"><code>autobuild</code></a>, see there for a list of supported ones. A few additional keyword arguments are accept:</p><ul><li><p><code>julia_compat</code> can be set to a version string which is used to set the supported Julia version in the <code>[compat]</code> section of the <code>Project.toml</code> of the generated JLL package. The default value is <code>&quot;1.0&quot;</code>.</p></li><li><p><code>lazy_artifacts</code> sets whether the artifacts should be lazy.</p></li><li><p><code>init_block</code> may be set to a string containing Julia code; if present, this code will be inserted into the initialization path of the generated JLL package. This can for example be used to invoke an initialization API of a shared library.</p></li><li><p><code>augment_platform_block</code> may be set to a string containing Julia code; if present, this code will be inserted into the top-level of the generated JLL package. It must define a function <code>augment_platform!</code> that takes as a single argument, the target platform and returns the target platform, with amended tags. This augmented platform will then be used by the JLL wrapper to select the artifact. Note that this option requires the Julia compatibility <code>julia_compat</code> to be 1.6 or higher.</p></li></ul><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The <code>init_block</code> and <code>augment_platform_block</code> keyword arguments are experimental and may be removed in a future version of this package. Please use them sparingly.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/69ff18abc7dcf56f38800f8d377a2017714760a2/src/AutoBuild.jl#L135-L177">source</a></section></article><p>The <a href="#BinaryBuilder.build_tarballs"><code>build_tarballs</code></a> function also parses command line arguments. The syntax is described in the <code>--help</code> output:</p><pre><code class="nohighlight hljs">Usage: build_tarballs.jl [target1,target2,...] [--help]
                         [--verbose] [--debug]
                         [--deploy] [--deploy-bin] [--deploy-jll]
                         [--register] [--meta-json]

Options:
    targets             By default `build_tarballs.jl` will build a tarball
                        for every target within the `platforms` variable.
                        To override this, pass in a list of comma-separated
                        target triplets for each target to be built.  Note
                        that this can be used to build for platforms that
                        are not listed in the &#39;default list&#39; of platforms
                        in the build_tarballs.jl script.

    --verbose           This streams compiler output to stdout during the
                        build which can be very helpful for finding bugs.
                        Note that it is colorized if you pass the
                        --color=yes option to julia, see examples below.

    --debug=&lt;mode&gt;      This causes a failed build to drop into an
                        interactive shell for debugging purposes.  `&lt;mode&gt;`
                        can be one of `error`, `begin` or `end`.  `error`
                        drops you into the interactive shell only when there
                        is an error during the build, this is the default
                        when no mode is specified.  `begin` forces an error
                        at the beginning of the build, before any command in
                        the script is run.  `end` forces an error at the end
                        of the build script, useful to debug a successful
                        build for which the auditor would fail.

    --deploy=&lt;repo&gt;     Deploy binaries and JLL wrapper code to a github
                        release of an autogenerated repository.  Uses
                        `github.com/JuliaBinaryWrappers/&lt;name&gt;_jll.jl` by
                        default, unless `&lt;repo&gt;` is set, in which case it
                        should be set as `&lt;owner&gt;/&lt;name&gt;_jll.jl`.  Setting
                        this option is equivalent to setting `--deploy-bin`
                        and `--deploy-jll`.  If `&lt;repo&gt;` is set to &quot;local&quot;
                        then nothing will be uploaded, but JLL packages
                        will still be written out to `~/.julia/dev/`.

    --deploy-bin=&lt;repo&gt; Deploy just the built binaries

    --deploy-jll=&lt;repo&gt; Deploy just the JLL code wrappers

    --register=&lt;depot&gt;  Register into the given depot.  If no path is
                        given, defaults to `~/.julia`.  Registration
                        requires deployment of the JLL wrapper code, so
                        so using `--register` without `--deploy` or the
                        more specific `--deploy-jll` is an error.

    --skip-build        Skips building the platform binaries. This option
                        is useful if, e.g., you have already built all
                        platform binaries and now only wish to deploy the
                        JLL package to GitHub. Note that this will error if
                        not all tarballs for the listed platforms are
                        present.

    --meta-json         Output a JSON representation of the given build
                        instead of actually building.  Note that this can
                        (and often does) output multiple JSON objects for
                        multiple platforms, multi-stage builds, etc...

    --skip-audit        Skips auditing of the output products.

    --help              Print out this message.

Examples:
    julia --color=yes build_tarballs.jl --verbose
        This builds all tarballs, with colorized output.

    julia build_tarballs.jl x86_64-linux-gnu,i686-linux-gnu
        This builds two tarballs for the two platforms given, with a
        minimum of output messages.

Supported Platforms:
    aarch64-apple-darwin
    aarch64-linux-gnu
    aarch64-linux-musl
    armv6l-linux-gnueabihf
    armv6l-linux-musleabihf
    armv7l-linux-gnueabihf
    armv7l-linux-musleabihf
    i686-linux-gnu
    i686-linux-musl
    i686-w64-mingw32
    powerpc64le-linux-gnu
    x86_64-apple-darwin
    x86_64-linux-gnu
    x86_64-linux-musl
    x86_64-unknown-freebsd
    x86_64-w64-mingw32
</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tricksy_gotchas/">« Tricksy Gotchas</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Tuesday 9 April 2024 13:40">Tuesday 9 April 2024</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
