<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · BinaryBuilder.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">BinaryBuilder.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Project-flow"><span>Project flow</span></a></li><li><a class="tocitem" href="#Wizard-interface"><span>Wizard interface</span></a></li><li><a class="tocitem" href="#How-does-this-all-work?"><span>How does this all work?</span></a></li></ul></li><li><a class="tocitem" href="building/">Building Packages</a></li><li><a class="tocitem" href="build_tips/">Build Tips</a></li><li><a class="tocitem" href="jll/">JLL packages</a></li><li><a class="tocitem" href="FAQ/">FAQ</a></li><li><a class="tocitem" href="troubleshooting/">Build Troubleshooting</a></li><li><span class="tocitem">Internals</span><ul><li><a class="tocitem" href="rootfs/">RootFS</a></li><li><a class="tocitem" href="environment_variables/">Environment Variables</a></li><li><a class="tocitem" href="tricksy_gotchas/">Tricksy Gotchas</a></li><li><a class="tocitem" href="reference/">Reference</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="BinaryBuilder.jl"><a class="docs-heading-anchor" href="#BinaryBuilder.jl">BinaryBuilder.jl</a><a id="BinaryBuilder.jl-1"></a><a class="docs-heading-anchor-permalink" href="#BinaryBuilder.jl" title="Permalink"></a></h1><p>The purpose of the <a href="https://github.com/JuliaPackaging/BinaryBuilder.jl"><code>BinaryBuilder.jl</code></a> Julia package is to provide a system for compiling 3rd-party binary dependencies that should work anywhere the <a href="https://julialang.org/downloads">official Julia distribution</a> does.  In particular, using this package you will be able to compile your large pre-existing codebases of C, C++, Fortran, Rust, Go, etc... software into binaries that can be downloaded and loaded/run on a very wide range of machines.  As it is difficult (and often expensive) to natively compile software packages across the growing number of platforms that this package will need to support, we focus on providing a set of Linux-hosted cross-compilers.  This package will therefore set up an environment to perform cross-compilation for all of the major platforms, and will do its best to make the compilation process as painless as possible.</p><p>Note that at this time, BinaryBuilder itself runs on Linux <code>x86_64</code> and macOS <code>x86_64</code> systems only, with Windows support under active development.  On macOS and Windows, you must have <code>docker</code> installed as the backing virtualization engine.  Note that Docker Desktop is the recommended version; if you have Docker Machine installed it may not work correctly or may need additional configuration.</p><h2 id="Project-flow"><a class="docs-heading-anchor" href="#Project-flow">Project flow</a><a id="Project-flow-1"></a><a class="docs-heading-anchor-permalink" href="#Project-flow" title="Permalink"></a></h2><p>Suppose that you have a Julia package <code>Foo.jl</code> which wants to use a compiled <code>libfoo</code> shared library.  As your first step in writing <code>Foo.jl</code>, you may compile <code>libfoo</code> locally on your own machine with your system compiler, then using <code>Libdl.dlopen()</code> to open the library, and <code>ccall()</code> to call into the exported functions.  Once you have written your C bindings in Julia, you will naturally desire to share the fruits of your labor with the rest of the world, and this is where <code>BinaryBuilder</code> can help you.  Not only will <code>BinaryBuilder</code> aid you in constructing compiled versions of all your dependencies, but it will also build a wrapper Julia package (referred to as a <a href="jll/">JLL package</a>) to aid in installation, versioning, and build product localization.</p><p>The first step in the <code>BinaryBuilder</code> journey is to create a build recipe, usually named <code>build_tarballs.jl</code>.  The Julia community curates a tree of build recipes, <a href="https://github.com/JuliaPackaging/Yggdrasil">Yggdrasil</a>, that already contains many examples of how to write a <code>build_tarballs.jl</code> file.  These files contain information such as the name, version and source locations for a particular build, as well as the actual steps (in the form of a <code>bash</code> script) and the products that should be generated by the build.</p><p>The result of a successful build is an autogenerated JLL package, typically uploaded to the <a href="https://github.com/JuliaBinaryWrappers/">JuliaBinaryWrappers</a> github organization.  Binaries for each version of every build are uploaded to the GitHub releases page of the relevant JLL package.  Finally, a registration request is opened against the <code>General</code> Julia registry, so that packages such as the aforementioned <code>Foo.jl</code> can simply <code>pkg&gt; add libfoo_jll</code> to download the binary artifacts as well as the autogenerated Julia wrapper code.</p><p>To generate a <code>build_tarballs.jl</code> file (explained in greater detail in <a href="building/">Building Packages</a>), one can clone <code>Yggdrasil</code>, copy an existing build recipe, modify it, and submit a new PR, or use the <code>BinaryBuilder</code> Wizard to do all of that automatically.  See also the <a href="FAQ/">FAQ</a>, <a href="build_tips/">build tips</a>, <a href="troubleshooting/">build troubleshooting</a> and <a href="tricksy_gotchas/">tricksy gotchas</a> for help with common problems.</p><h2 id="Wizard-interface"><a class="docs-heading-anchor" href="#Wizard-interface">Wizard interface</a><a id="Wizard-interface-1"></a><a class="docs-heading-anchor-permalink" href="#Wizard-interface" title="Permalink"></a></h2><p>While constructing your own <code>build_tarballs.jl</code> is certainly possible, <code>BinaryBuilder.jl</code> supports a more interactive method for building the binary dependencies and capturing the commands used to build it into a <code>build_tarballs.jl</code> file: the Wizard interface.  To launch it, run <code>BinaryBuilder.run_wizard()</code>, and follow the instructions on-screen.</p><h2 id="How-does-this-all-work?"><a class="docs-heading-anchor" href="#How-does-this-all-work?">How does this all work?</a><a id="How-does-this-all-work?-1"></a><a class="docs-heading-anchor-permalink" href="#How-does-this-all-work?" title="Permalink"></a></h2><p><code>BinaryBuilder.jl</code> wraps a <a href="rootfs/">root filesystem</a> that has been carefully constructed so as to provide the set of cross-compilers needed to support the wide array of platforms that Julia runs on.  This <em>RootFS</em> is then used as the chroot jail for a sandboxed process which runs within the RootFS as if that were the whole world.  The workspace containing input source code and (eventually) output binaries is mounted within the RootFS and environment variables are setup such that the appropriate compilers for a particular target platform are used by build tools.</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="building/">Building Packages »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 26 August 2020 18:29">Wednesday 26 August 2020</span>. Using Julia version 1.5.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
